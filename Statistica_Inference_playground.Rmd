---
title: "Statistical_Inference"
author: "ppar"
date: "02. nov. 2015"
---
#Week 1
##Probability Density Function

Let's imagine that the proportion of help calls that get addressed in a random day by a help line is given by the PDF below

```{r pdf}
x <- c(-0.5,0,1,1,1.5)
y <- c(0,0,2,0,0)

plot(x, y, lwd = 3, frame = TRUE, type="l")
```

The PDF valid

* values are equal or greater then 0
* total area is 1

What is the probability that 75% or fewer of call get addressed?
Such propability can be calculated as the area of the triangle highlited in the diagram below
```{r collapse = TRUE}
plot(x, y, lwd = 3, frame = TRUE, type="l")
lines(c(0.0, 0.75), c(0, 0), col = "red")
lines(c(0.75, 0.75), c(0.0, 1.5), col = "red")
lines(c(0.0, 0.75), c(0.0, 1.5), col = "red")

calc_prob <- (0.75 * 1.5) / 2
calc_prob
```
 The given PDF is a special case of a well-known probaility distibution, the **BETA distribution**. The sameprobability can be calculated using the **BETA distribution** as in the following code chunk
```{r collapse = FALSE}
pbeta(0.75,2,1)

#What's the probability that 40%, 50% and 60% of the calls or fewere are addressed on the same day
#F(x), given x = 0.4, 0.5, 0.6
pbeta(c(0.4, 0.5, 0.6), 2, 1)

#And the survival function is 1 - F(x)
1 - pbeta(c(0.4, 0.5, 0.6), 2, 1)
```

Some more details about the **BETA** distribution
```{r}
x <- seq(0, 1, length = 100)
d <- dbeta(x, 2, 1) #density
p <- pbeta(x, 2, 1) #probability of being less than x
plot(x, d, type = "l")
lines(x, p, type= "l", col = "red")
```

Qualtiles/ percentiles for the **BETA** distribution can be calculated 
```{r}
qbeta(0.5, 2, 1) #0.5 quantile, 50% percentile or population median
```

###Expected Values
####Find the center of mass of the bars
```{r}
library(UsingR)
library(ggplot2)
library(reshape2)
data(galton)

longGalton <- melt(galton, measure.vars = c("child", "parent"))
g <- ggplot(longGalton, aes(x = value)) +
  geom_histogram(aes(y = ..density.., fill=variable), binwidth=1, colour="black") +
  geom_density(size=2)
g <- g + facet_grid(. ~ variable)
g
```

Using `manipulate` package ...
```{r}
library(manipulate)
myHist <- function(mu){
    g <- ggplot(galton, aes(x = child))
    g <- g + geom_histogram(fill = "salmon", 
      binwidth=1, aes(y = ..density..), colour = "black")
    g <- g + geom_density(size = 2)
    g <- g + geom_vline(xintercept = mu, size = 2)
    mse <- round(mean((galton$child - mu)^2), 3)  
    g <- g + labs(title = paste('mu = ', mu, ' MSE = ', mse))
    g
}
manipulate(myHist(mu), mu = slider(62, 74, step = 0.5))
```
